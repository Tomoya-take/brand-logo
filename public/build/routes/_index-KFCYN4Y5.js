import{a as Ui,b as Ur}from"/build/_shared/chunk-4HXKWYDW.js";import{b as h,c as tt}from"/build/_shared/chunk-Q3IECNXJ.js";var Gr=h(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});function Wr(e,r){if(r==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),r)||r.constructor.name!=="Object"&&r.constructor.name!=="Array")return r;var t={};return Object.keys(r).forEach(function(n){var o=Object.prototype.hasOwnProperty.call(e,n);o&&typeof e[n]=="object"&&!Array.isArray(e[n])?t[n]=Wr(e[n],r[n]):t[n]=r[n]}),Object.keys(e).forEach(function(n){var o=Object.prototype.hasOwnProperty.call(r,n);o||(t[n]=e[n])}),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}Kt.default=Wr});var Yt=h(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.SEPARATOR=Le.PREFIX=void 0;Le.PREFIX="APP";Le.SEPARATOR="::"});var ne=h(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ComponentType=me.Group=void 0;var Wi;(function(e){e.AuthCode="AuthCode",e.Button="Button",e.ButtonGroup="ButtonGroup",e.Cart="Cart",e.Client="Client",e.ContextualSaveBar="ContextualSaveBar",e.Error="Error",e.Features="Features",e.FeedbackModal="FeedbackModal",e.Fullscreen="Fullscreen",e.LeaveConfirmation="LeaveConfirmation",e.Link="Link",e.Loading="Loading",e.Menu="Menu",e.Modal="Modal",e.Navigation="Navigation",e.Performance="Performance",e.Pos="Pos",e.Print="Print",e.ResourcePicker="Resource_Picker",e.unstable_Picker="unstable_Picker",e.Scanner="Scanner",e.SessionToken="SessionToken",e.Share="Share",e.TitleBar="TitleBar",e.Toast="Toast",e.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",e.WebVitals="WebVitals"})(Wi=me.Group||(me.Group={}));var Gi;(function(e){e.Button="Button",e.ButtonGroup="ButtonGroup"})(Gi=me.ComponentType||(me.ComponentType={}))});var ie=h(S=>{"use strict";var Vi=S&&S.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0});S.updateActionFromPayload=S.isValidOptionalString=S.isValidOptionalNumber=S.forEachInEnum=S.getMergedProps=S.findMatchInEnum=S.getEventNameSpace=S.NonSnakeCaseGroup=S.actionWrapper=void 0;var ki=Vi(Gr()),Ae=Yt(),M=ne();function zi(e){return e}S.actionWrapper=zi;S.NonSnakeCaseGroup=[M.Group.AuthCode,M.Group.Button,M.Group.ButtonGroup,M.Group.Cart,M.Group.Error,M.Group.Features,M.Group.Fullscreen,M.Group.Link,M.Group.Loading,M.Group.Menu,M.Group.Modal,M.Group.Navigation,M.Group.Pos,M.Group.Print,M.Group.ResourcePicker,M.Group.Scanner,M.Group.SessionToken,M.Group.Share,M.Group.TitleBar,M.Group.Toast,M.Group.unstable_Picker];function Hi(e){return e.replace(/([A-Z])/g,function(r,t,n){return(n===0?"":"_")+r[0].toLowerCase()})}function Ki(e){return S.NonSnakeCaseGroup.includes(e)?e.toUpperCase():Hi(e).toUpperCase()}function Yi(e,r,t){if(r.startsWith(""+Ae.PREFIX+Ae.SEPARATOR))return r;var n=Ki(e);if(t){var o=t.subgroups,i=t.type;o&&o.length>0&&(n+=n.length>0?Ae.SEPARATOR:"",o.forEach(function(u,c){n+=""+u.toUpperCase()+(c<o.length-1?Ae.SEPARATOR:"")})),i!==e&&i&&(n+=""+(n.length>0?Ae.SEPARATOR:"")+i.toUpperCase())}return n&&(n+=""+(n.length>0?Ae.SEPARATOR:"")+r.toUpperCase()),""+Ae.PREFIX+Ae.SEPARATOR+n}S.getEventNameSpace=Yi;function Xi(e,r){var t=Object.keys(e).find(function(n){return r===e[n]});return t?e[t]:void 0}S.findMatchInEnum=Xi;function Vr(e,r){var t=ki.default(e,r);if(!t){var n=Object.assign(e,r);return n}return t}S.getMergedProps=Vr;function xi(e,r){Object.keys(e).forEach(function(t){r(e[t])})}S.forEachInEnum=xi;function Zi(e){return e==null||typeof e=="number"}S.isValidOptionalNumber=Zi;function Qi(e){return e==null||typeof e=="string"}S.isValidOptionalString=Qi;function Ji(e,r){var t=e.id;return t===r.id?(Object.assign(e,Vr(e,r)),!0):!1}S.updateActionFromPayload=Ji});var kr=h((zu,$i)=>{$i.exports={name:"@shopify/app-bridge",version:"3.7.10",types:"index.d.ts",main:"index.js",unpkg:"umd/index.js",jsdelivr:"umd/index.js",files:["/actions/","/client/","/umd/","/utilities/","/util/","/validate/","/development.d.ts","/development.js","/index.d.ts","/index.js","/MessageTransport.d.ts","/MessageTransport.js","/production.d.ts","/production.js"],private:!1,publishConfig:{access:"public","@shopify:registry":"https://registry.npmjs.org"},repository:"git@github.com:Shopify/app-bridge.git",homepage:"https://shopify.dev/docs/api/app-bridge/previous-versions/app-bridge-from-npm/app-setup",author:"Shopify Inc.",license:"MIT",scripts:{build:"yarn build:tsc && yarn build:npm && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p","build:npm":"shx cp -r ./npm/index.js ./index.js",check:"tsc",clean:"yarn clean:tsc && yarn clean:npm && yarn clean:umd","clean:tsc":"NODE_ENV=production tsc --build --clean","clean:umd":"rm -rf ./umd","clean:npm":"rm -rf ./index.js",pack:"yarn pack",size:"size-limit"},sideEffects:!1,"size-limit":[{limit:"10.5 KB",path:"production.js"}],dependencies:{"@shopify/app-bridge-core":"1.1.1",base64url:"^3.0.1","web-vitals":"^3.0.1"},devDependencies:{"@types/node":"^10.12.5",shx:"^0.3.3"}}});var Fe=h(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.getPackageName=E.getVersion=E.getMergedProps=E.updateActionFromPayload=E.isValidOptionalString=E.isValidOptionalNumber=E.NonSnakeCaseGroup=E.getEventNameSpace=E.forEachInEnum=E.findMatchInEnum=E.actionWrapper=void 0;var he=ie();Object.defineProperty(E,"actionWrapper",{enumerable:!0,get:function(){return he.actionWrapper}});Object.defineProperty(E,"findMatchInEnum",{enumerable:!0,get:function(){return he.findMatchInEnum}});Object.defineProperty(E,"forEachInEnum",{enumerable:!0,get:function(){return he.forEachInEnum}});Object.defineProperty(E,"getEventNameSpace",{enumerable:!0,get:function(){return he.getEventNameSpace}});Object.defineProperty(E,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return he.NonSnakeCaseGroup}});Object.defineProperty(E,"isValidOptionalNumber",{enumerable:!0,get:function(){return he.isValidOptionalNumber}});Object.defineProperty(E,"isValidOptionalString",{enumerable:!0,get:function(){return he.isValidOptionalString}});Object.defineProperty(E,"updateActionFromPayload",{enumerable:!0,get:function(){return he.updateActionFromPayload}});Object.defineProperty(E,"getMergedProps",{enumerable:!0,get:function(){return he.getMergedProps}});var zr=kr();function eo(){return zr.version}E.getVersion=eo;function to(){return zr.name}E.getPackageName=to});var Kr=h(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.app=Me.Action=void 0;var ro=ie(),no=ne(),Hr;(function(e){e.APP="APP::PRINT::APP"})(Hr=Me.Action||(Me.Action={}));function io(){return ro.actionWrapper({group:no.Group.Print,type:Hr.APP})}Me.app=io});var Xr=h(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.app=Be.Action=void 0;var Yr=Kr();Object.defineProperty(Be,"Action",{enumerable:!0,get:function(){return Yr.Action}});Object.defineProperty(Be,"app",{enumerable:!0,get:function(){return Yr.app}})});var nt=h(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.permissionAction=R.isErrorEventName=R.throwError=R.invalidOriginAction=R.fromAction=R.AppBridgeError=R.AppActionType=R.Action=void 0;var xr=ne(),Xt=ie(),rt;(function(e){e.INVALID_ACTION="APP::ERROR::INVALID_ACTION",e.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",e.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",e.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",e.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",e.PERSISTENCE="APP::ERROR::PERSISTENCE",e.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",e.NETWORK="APP::ERROR::NETWORK",e.PERMISSION="APP::ERROR::PERMISSION",e.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",e.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(rt=R.Action||(R.Action={}));var oo;(function(e){e.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",e.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",e.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",e.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",e.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",e.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",e.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",e.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",e.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"})(oo=R.AppActionType||(R.AppActionType={}));var xt=function(){function e(r){this.name="AppBridgeError",this.message=r,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}return e}();R.AppBridgeError=xt;xt.prototype=Object.create(Error.prototype);function Zr(e,r,t){var n=e?r+": "+e:r,o=new xt(n);return o.action=t,o.type=r,o}R.fromAction=Zr;function ao(e){return Xt.actionWrapper({group:xr.Group.Error,payload:{message:e,type:rt.INVALID_ORIGIN},type:rt.INVALID_ORIGIN})}R.invalidOriginAction=ao;function uo(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e[0],n,o;throw typeof e[1]=="string"?n=e[1]:(o=e[1],n=e[2]||""),Zr(n,t,o)}R.throwError=uo;function so(e){var r=Xt.findMatchInEnum(rt,e);return typeof r=="string"}R.isErrorEventName=so;function co(e,r,t){var n=r.payload;return Xt.actionWrapper({type:e,group:xr.Group.Error,payload:{action:r,message:t,type:e,id:n&&n.id?n.id:void 0}})}function fo(e,r){return co(rt.PERMISSION,e,r||"Action is not permitted")}R.permissionAction=fo});var it=h(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.ComponentType=qe.Group=void 0;var Qr=ne();Object.defineProperty(qe,"Group",{enumerable:!0,get:function(){return Qr.Group}});Object.defineProperty(qe,"ComponentType",{enumerable:!0,get:function(){return Qr.ComponentType}})});var ot=h(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.networkAction=b.persistenceAction=b.unsupportedOperationAction=b.unexpectedAction=b.invalidAction=b.invalidActionType=b.invalidPayload=b.Message=b.fromAction=b.Action=b.permissionAction=b.isErrorEventName=b.throwError=b.invalidOriginAction=b.AppBridgeError=b.AppActionType=void 0;var H=nt();Object.defineProperty(b,"Action",{enumerable:!0,get:function(){return H.Action}});Object.defineProperty(b,"fromAction",{enumerable:!0,get:function(){return H.fromAction}});var yt=Fe(),gt=it(),Ue=nt();Object.defineProperty(b,"AppActionType",{enumerable:!0,get:function(){return Ue.AppActionType}});Object.defineProperty(b,"AppBridgeError",{enumerable:!0,get:function(){return Ue.AppBridgeError}});Object.defineProperty(b,"invalidOriginAction",{enumerable:!0,get:function(){return Ue.invalidOriginAction}});Object.defineProperty(b,"throwError",{enumerable:!0,get:function(){return Ue.throwError}});Object.defineProperty(b,"isErrorEventName",{enumerable:!0,get:function(){return Ue.isErrorEventName}});Object.defineProperty(b,"permissionAction",{enumerable:!0,get:function(){return Ue.permissionAction}});function bt(e,r,t){var n=r.payload;return yt.actionWrapper({type:e,group:gt.Group.Error,payload:{action:r,message:t,type:e,id:n&&n.id?n.id:void 0}})}var lo;(function(e){e.MISSING_PAYLOAD="Missing payload",e.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(lo=b.Message||(b.Message={}));function po(e,r){return bt(H.Action.INVALID_PAYLOAD,e,r||"The action's payload is missing required properties or has invalid properties")}b.invalidPayload=po;function ho(e,r){return yt.actionWrapper({group:gt.Group.Error,payload:{action:e,message:r||"The action type is invalid or unsupported",type:H.Action.INVALID_ACTION_TYPE},type:H.Action.INVALID_ACTION_TYPE})}b.invalidActionType=ho;function vo(e,r){return yt.actionWrapper({group:gt.Group.Error,payload:{action:e,message:r||"The action's has missing/invalid values for `group`, `type` or `version`",type:H.Action.INVALID_ACTION},type:H.Action.INVALID_ACTION})}b.invalidAction=vo;function yo(e,r){return yt.actionWrapper({group:gt.Group.Error,payload:{action:e,message:r||"Action cannot be called at this time",type:H.Action.UNEXPECTED_ACTION},type:H.Action.UNEXPECTED_ACTION})}b.unexpectedAction=yo;function go(e,r){return bt(H.Action.UNSUPPORTED_OPERATION,e,r||"The action type is unsupported")}b.unsupportedOperationAction=go;function bo(e,r){return bt(H.Action.PERSISTENCE,e,r||"Action cannot be persisted on server")}b.persistenceAction=bo;function _o(e,r){return bt(H.Action.NETWORK,e,r||"Network error")}b.networkAction=_o});var We=h($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.LifecycleHook=$.PermissionType=$.MessageType=void 0;var mo;(function(e){e.GetState="getState",e.Dispatch="dispatch",e.Subscribe="subscribe",e.Unsubscribe="unsubscribe"})(mo=$.MessageType||($.MessageType={}));var Ao;(function(e){e.Dispatch="Dispatch",e.Subscribe="Subscribe"})(Ao=$.PermissionType||($.PermissionType={}));var Po;(function(e){e.UpdateAction="UpdateAction",e.DispatchAction="DispatchAction"})(Po=$.LifecycleHook||($.LifecycleHook={}))});var $r=h(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.isPermitted=K.getPermissionKey=K.isPerformanceOrWebVitalsAction=K.isAppMessage=K.isAppBridgeAction=void 0;var Oo=We(),_t=Yt(),Eo=ie();function So(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(_t.PREFIX)}K.isAppBridgeAction=So;function To(e){if(typeof e!="object"||!e.data||typeof e.data!="object")return!1;var r=e.data;return Object.prototype.hasOwnProperty.call(r,"type")&&Eo.findMatchInEnum(Oo.MessageType,r.type)!==void 0}K.isAppMessage=To;function Io(e){var r=e.type;return r.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}K.isPerformanceOrWebVitalsAction=Io;function Jr(e){return e.replace(new RegExp("^"+_t.PREFIX+_t.SEPARATOR+"\\w+"+_t.SEPARATOR),"")}K.getPermissionKey=Jr;function Mo(e,r,t){var n=r.group,o=r.type;if(!n||!Object.prototype.hasOwnProperty.call(e,n))return!1;var i=e[n];if(!i)return!1;var u=Jr(o);return i[u]?i[u][t]===!0:!1}K.isPermitted=Mo});var mt=h(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.removeFromCollection=Ge.addAndRemoveFromCollection=void 0;function wo(e,r,t){return e.push(r),function(){return en(e,r,t)}}Ge.addAndRemoveFromCollection=wo;function en(e,r,t){var n=e.findIndex(function(o){return o===r});return n>=0?(e.splice(n,1),t&&t(r),!0):!1}Ge.removeFromCollection=en});var At=h(oe=>{"use strict";var Zt,Qt;Object.defineProperty(oe,"__esModule",{value:!0});oe.isUnframed=oe.isClient=oe.isServer=void 0;oe.isServer=typeof window>"u";oe.isClient=!oe.isServer;oe.isUnframed=oe.isClient&&((Qt=(Zt=window.navigator)===null||Zt===void 0?void 0:Zt.userAgent)===null||Qt===void 0?void 0:Qt.indexOf("Unframed"))>0});var rn=h(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.createTransportListener=ee.fromWindow=ee.fromFrame=ee.Context=void 0;var Jt=nt(),$t=$r(),tn=We(),Pt=mt(),Ot=At(),Co;(function(e){e.Modal="Modal",e.Main="Main"})(Co=ee.Context||(ee.Context={}));function No(e,r,t){var n=[],o=e.host,i=e.window;if(!o)throw Jt.fromAction("App frame is undefined",Jt.AppActionType.WINDOW_UNDEFINED);return Ot.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(u,c){i?.postMessage(u,c),Do(u)&&o.postMessage(JSON.stringify(u.payload),location.origin)},updateIframeUrl:function(u){var c=window.location,f=(e.window||{}).location;try{var a=new URL(u).origin;a===r&&f?f.replace(u):c.href=u}catch{}}}),o.addEventListener("message",function(u){if(!(u.source===o||!$t.isAppMessage(u))){if(u.origin!==r){var c="Message origin '"+u.origin+"' does not match app origin '"+r+"'.",f=Jt.invalidOriginAction(c),a={type:"dispatch",payload:f};i?.postMessage(a,u.origin);return}if(Ot.isUnframed&&window.MobileWebView){var f=JSON.stringify({id:"unframed://fromClient",origin:r,data:u.data});window.MobileWebView.postMessage(f);return}for(var s=0,y=n;s<y.length;s++){var P=y[s];P(u)}}}),{context:t,localOrigin:r,frameWindow:i,hostFrame:o,dispatch:function(u){i?.postMessage(u,r)},subscribe:function(u){return Pt.addAndRemoveFromCollection(n,u)}}}ee.fromFrame=No;function Ro(e,r){var t=[];return typeof window!==void 0&&window.addEventListener("message",function(n){if(!(window===e&&!Ot.isUnframed||n.source!==e||!($t.isAppBridgeAction(n.data.payload)||$t.isAppMessage(n))))for(var o=0,i=t;o<i.length;o++){var u=i[o];u(n)}}),{localOrigin:r,hostFrame:e,dispatch:function(n){var o;if(!((o=n.source)===null||o===void 0)&&o.host){if(Ot.isUnframed&&window&&window.MobileWebView){var i=JSON.stringify({id:"unframed://fromClient",origin:r,data:n});window.MobileWebView.postMessage(i);return}var u=new URL("https://"+n.source.host).origin;e.postMessage(n,u)}},subscribe:function(n){return Pt.addAndRemoveFromCollection(t,n)}}}ee.fromWindow=Ro;function jo(){var e=[],r={};function t(n){function o(){if(arguments.length<2)return Pt.addAndRemoveFromCollection(e,{callback:arguments[0]});var i=Array.from(arguments),u=i[0],c=i[1],f=i[2],a={callback:c,id:f},s={type:u,id:f};return Object.prototype.hasOwnProperty.call(r,u)||(r[u]=[]),n&&n(tn.MessageType.Subscribe,s),Pt.addAndRemoveFromCollection(r[u],a,function(){n&&n(tn.MessageType.Unsubscribe,s)})}return o}return{createSubscribeHandler:t,handleMessage:function(n){e.forEach(function(o){return o.callback(n)})},handleActionDispatch:function(n){var o=n.type,i=n.payload,u=!1;if(Object.prototype.hasOwnProperty.call(r,o))for(var c=0,f=r[o];c<f.length;c++){var a=f[c],s=a.id,y=a.callback,P=i&&i.id===s;(P||!s)&&(y(i),u=!0)}return u}}}ee.createTransportListener=jo;function Do(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.type==="dispatch"&&typeof e.payload=="object"}});var Et=h(we=>{"use strict";var Lo=we&&we.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Fo=we&&we.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Lo(r,e,t)};Object.defineProperty(we,"__esModule",{value:!0});Fo(rn(),we)});var on=h(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.mockAppBridge=Ve.serverAppBridge=void 0;var St=ot(),Tt=function(){},nn=new Promise(function(){});Ve.serverAppBridge={dispatch:function(){return{}},error:function(){return Tt},featuresAvailable:function(){return Promise.reject(St.fromAction("Feature detection is only available on the client side.",St.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(St.fromAction("State is only available on the client side.",St.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return Tt}};Ve.mockAppBridge={dispatch:function(){return{}},error:function(){return Tt},featuresAvailable:function(){return nn},getState:function(){return nn},localOrigin:"",hostOrigin:"",subscribe:function(){return Tt}}});var at=h(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.isDevelopmentClient=U.isProduction=U.isDevelopment=U.isUnframed=U.isServer=U.isClient=void 0;var Bo=At(),er=At();Object.defineProperty(U,"isClient",{enumerable:!0,get:function(){return er.isClient}});Object.defineProperty(U,"isServer",{enumerable:!0,get:function(){return er.isServer}});Object.defineProperty(U,"isUnframed",{enumerable:!0,get:function(){return er.isUnframed}});U.isDevelopment=typeof process<"u"&&process.env&&!1;U.isProduction=!U.isDevelopment;U.isDevelopmentClient=U.isDevelopment&&Bo.isClient});var an=h(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.Action=void 0;var qo;(function(e){e.INITIALIZE="APP::CLIENT::INITIALIZE"})(qo=ut.Action||(ut.Action={}))});var sn=h(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.initialize=ke.Action=void 0;var un=an();Object.defineProperty(ke,"Action",{enumerable:!0,get:function(){return un.Action}});var Uo=it(),Wo=Fe();function Go(){return Wo.actionWrapper({group:Uo.Group.Client,type:un.Action.INITIALIZE})}ke.initialize=Go});var fn=h((It,cn)=>{(function(e,r){typeof It=="object"&&typeof cn<"u"?r(It):typeof define=="function"&&define.amd?define(["exports"],r):r((e=typeof globalThis<"u"?globalThis:e||self).webVitals={})})(It,function(e){"use strict";var r,t,n,o,i,u=-1,c=function(l){addEventListener("pageshow",function(d){d.persisted&&(u=d.timeStamp,l(d))},!0)},f=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},a=function(){var l=f();return l&&l.activationStart||0},s=function(l,d){var v=f(),g="navigate";return u>=0?g="back-forward-cache":v&&(document.prerendering||a()>0?g="prerender":document.wasDiscarded?g="restore":v.type&&(g=v.type.replace(/_/g,"-"))),{name:l,value:d===void 0?-1:d,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:g}},y=function(l,d,v){try{if(PerformanceObserver.supportedEntryTypes.includes(l)){var g=new PerformanceObserver(function(p){Promise.resolve().then(function(){d(p.getEntries())})});return g.observe(Object.assign({type:l,buffered:!0},v||{})),g}}catch{}},P=function(l,d,v,g){var p,m;return function(I){d.value>=0&&(I||g)&&((m=d.value-(p||0))||p===void 0)&&(p=d.value,d.delta=m,d.rating=function(N,O){return N>O[1]?"poor":N>O[0]?"needs-improvement":"good"}(d.value,v),l(d))}},B=function(l){requestAnimationFrame(function(){return requestAnimationFrame(function(){return l()})})},Z=function(l){var d=function(v){v.type!=="pagehide"&&document.visibilityState!=="hidden"||l(v)};addEventListener("visibilitychange",d,!0),addEventListener("pagehide",d,!0)},pe=function(l){var d=!1;return function(v){d||(l(v),d=!0)}},Q=-1,T=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},C=function(l){document.visibilityState==="hidden"&&Q>-1&&(Q=l.type==="visibilitychange"?l.timeStamp:0,z())},q=function(){addEventListener("visibilitychange",C,!0),addEventListener("prerenderingchange",C,!0)},z=function(){removeEventListener("visibilitychange",C,!0),removeEventListener("prerenderingchange",C,!0)},te=function(){return Q<0&&(Q=T(),q(),c(function(){setTimeout(function(){Q=T(),q()},0)})),{get firstHiddenTime(){return Q}}},J=function(l){document.prerendering?addEventListener("prerenderingchange",function(){return l()},!0):l()},Ie=[1800,3e3],Ft=function(l,d){d=d||{},J(function(){var v,g=te(),p=s("FCP"),m=y("paint",function(I){I.forEach(function(N){N.name==="first-contentful-paint"&&(m.disconnect(),N.startTime<g.firstHiddenTime&&(p.value=Math.max(N.startTime-a(),0),p.entries.push(N),v(!0)))})});m&&(v=P(l,p,Ie,d.reportAllChanges),c(function(I){p=s("FCP"),v=P(l,p,Ie,d.reportAllChanges),B(function(){p.value=performance.now()-I.timeStamp,v(!0)})}))})},Bt=[.1,.25],Sr=function(l,d){d=d||{},Ft(pe(function(){var v,g=s("CLS",0),p=0,m=[],I=function(O){O.forEach(function(F){if(!F.hadRecentInput){var _e=m[0],Ht=m[m.length-1];p&&F.startTime-Ht.startTime<1e3&&F.startTime-_e.startTime<5e3?(p+=F.value,m.push(F)):(p=F.value,m=[F])}}),p>g.value&&(g.value=p,g.entries=m,v())},N=y("layout-shift",I);N&&(v=P(l,g,Bt,d.reportAllChanges),Z(function(){I(N.takeRecords()),v(!0)}),c(function(){p=0,g=s("CLS",0),v=P(l,g,Bt,d.reportAllChanges),B(function(){return v()})}),setTimeout(v,0))}))},et={passive:!0,capture:!0},Di=new Date,Tr=function(l,d){r||(r=d,t=l,n=new Date,Mr(removeEventListener),Ir())},Ir=function(){if(t>=0&&t<n-Di){var l={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t};o.forEach(function(d){d(l)}),o=[]}},Li=function(l){if(l.cancelable){var d=(l.timeStamp>1e12?new Date:performance.now())-l.timeStamp;l.type=="pointerdown"?function(v,g){var p=function(){Tr(v,g),I()},m=function(){I()},I=function(){removeEventListener("pointerup",p,et),removeEventListener("pointercancel",m,et)};addEventListener("pointerup",p,et),addEventListener("pointercancel",m,et)}(d,l):Tr(d,l)}},Mr=function(l){["mousedown","keydown","touchstart","pointerdown"].forEach(function(d){return l(d,Li,et)})},qt=[100,300],wr=function(l,d){d=d||{},J(function(){var v,g=te(),p=s("FID"),m=function(O){O.startTime<g.firstHiddenTime&&(p.value=O.processingStart-O.startTime,p.entries.push(O),v(!0))},I=function(O){O.forEach(m)},N=y("first-input",I);v=P(l,p,qt,d.reportAllChanges),N&&Z(pe(function(){I(N.takeRecords()),N.disconnect()})),N&&c(function(){var O;p=s("FID"),v=P(l,p,qt,d.reportAllChanges),o=[],t=-1,r=null,Mr(addEventListener),O=m,o.push(O),Ir()})})},Cr=0,Ut=1/0,vt=0,Fi=function(l){l.forEach(function(d){d.interactionId&&(Ut=Math.min(Ut,d.interactionId),vt=Math.max(vt,d.interactionId),Cr=vt?(vt-Ut)/7+1:0)})},Nr=function(){return i?Cr:performance.interactionCount||0},Bi=function(){"interactionCount"in performance||i||(i=y("event",Fi,{type:"event",buffered:!0,durationThreshold:0}))},Wt=[200,500],Rr=0,jr=function(){return Nr()-Rr},re=[],Gt={},Dr=function(l){var d=re[re.length-1],v=Gt[l.interactionId];if(v||re.length<10||l.duration>d.latency){if(v)v.entries.push(l),v.latency=Math.max(v.latency,l.duration);else{var g={id:l.interactionId,latency:l.duration,entries:[l]};Gt[g.id]=g,re.push(g)}re.sort(function(p,m){return m.latency-p.latency}),re.splice(10).forEach(function(p){delete Gt[p.id]})}},Lr=function(l,d){d=d||{},J(function(){var v;Bi();var g,p=s("INP"),m=function(N){N.forEach(function(_e){_e.interactionId&&Dr(_e),_e.entryType==="first-input"&&!re.some(function(Ht){return Ht.entries.some(function(qr){return _e.duration===qr.duration&&_e.startTime===qr.startTime})})&&Dr(_e)});var O,F=(O=Math.min(re.length-1,Math.floor(jr()/50)),re[O]);F&&F.latency!==p.value&&(p.value=F.latency,p.entries=F.entries,g())},I=y("event",m,{durationThreshold:(v=d.durationThreshold)!==null&&v!==void 0?v:40});g=P(l,p,Wt,d.reportAllChanges),I&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&I.observe({type:"first-input",buffered:!0}),Z(function(){m(I.takeRecords()),p.value<0&&jr()>0&&(p.value=0,p.entries=[]),g(!0)}),c(function(){re=[],Rr=Nr(),p=s("INP"),g=P(l,p,Wt,d.reportAllChanges)}))})},Vt=[2500,4e3],kt={},Fr=function(l,d){d=d||{},J(function(){var v,g=te(),p=s("LCP"),m=function(O){var F=O[O.length-1];F&&F.startTime<g.firstHiddenTime&&(p.value=Math.max(F.startTime-a(),0),p.entries=[F],v())},I=y("largest-contentful-paint",m);if(I){v=P(l,p,Vt,d.reportAllChanges);var N=pe(function(){kt[p.id]||(m(I.takeRecords()),I.disconnect(),kt[p.id]=!0,v(!0))});["keydown","click"].forEach(function(O){addEventListener(O,function(){return setTimeout(N,0)},!0)}),Z(N),c(function(O){p=s("LCP"),v=P(l,p,Vt,d.reportAllChanges),B(function(){p.value=performance.now()-O.timeStamp,kt[p.id]=!0,v(!0)})})}})},zt=[800,1800],qi=function l(d){document.prerendering?J(function(){return l(d)}):document.readyState!=="complete"?addEventListener("load",function(){return l(d)},!0):setTimeout(d,0)},Br=function(l,d){d=d||{};var v=s("TTFB"),g=P(l,v,zt,d.reportAllChanges);qi(function(){var p=f();if(p){var m=p.responseStart;if(m<=0||m>performance.now())return;v.value=Math.max(m-a(),0),v.entries=[p],g(!0),c(function(){v=s("TTFB",0),(g=P(l,v,zt,d.reportAllChanges))(!0)})}})};e.CLSThresholds=Bt,e.FCPThresholds=Ie,e.FIDThresholds=qt,e.INPThresholds=Wt,e.LCPThresholds=Vt,e.TTFBThresholds=zt,e.getCLS=Sr,e.getFCP=Ft,e.getFID=wr,e.getINP=Lr,e.getLCP=Fr,e.getTTFB=Br,e.onCLS=Sr,e.onFCP=Ft,e.onFID=wr,e.onINP=Lr,e.onLCP=Fr,e.onTTFB=Br})});var dn=h(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.Action=void 0;var Vo;(function(e){e.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",e.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",e.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",e.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",e.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",e.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"})(Vo=st.Action||(st.Action={}))});var yn=h(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.isShopifyPing=Y.isShopifyPOS=Y.isShopifyMobile=Y.isShopifyEmbedded=Y.isMobile=void 0;var ln=at();function ko(){return pn()||hn()||vn()}Y.isMobile=ko;function zo(){return ln.isClient&&window.top!==window.self||ln.isUnframed}Y.isShopifyEmbedded=zo;function pn(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}Y.isShopifyMobile=pn;function hn(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}Y.isShopifyPOS=hn;function vn(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}Y.isShopifyPing=vn});var En=h(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.initializeWebVitals=L.interactionToNextPaint=L.timeToFirstByte=L.firstContentfulPaint=L.cumulativeLayoutShift=L.firstInputDelay=L.largestContentfulPaint=L.Action=void 0;var ze=fn(),Ce=dn();Object.defineProperty(L,"Action",{enumerable:!0,get:function(){return Ce.Action}});var gn=at(),He=it(),Ke=Fe(),Ho=yn();function bn(e){return Ke.actionWrapper({group:He.Group.WebVitals,type:Ce.Action.LARGEST_CONTENTFUL_PAINT,payload:e})}L.largestContentfulPaint=bn;function _n(e){return Ke.actionWrapper({group:He.Group.WebVitals,type:Ce.Action.FIRST_INPUT_DELAY,payload:e})}L.firstInputDelay=_n;function mn(e){return Ke.actionWrapper({group:He.Group.WebVitals,type:Ce.Action.CUMULATIVE_LAYOUT_SHIFT,payload:e})}L.cumulativeLayoutShift=mn;function An(e){return Ke.actionWrapper({group:He.Group.WebVitals,type:Ce.Action.FIRST_CONTENTFUL_PAINT,payload:e})}L.firstContentfulPaint=An;function Pn(e){return Ke.actionWrapper({group:He.Group.WebVitals,type:Ce.Action.TIME_TO_FIRST_BYTE,payload:e})}L.timeToFirstByte=Pn;function On(e){return Ke.actionWrapper({group:He.Group.WebVitals,type:Ce.Action.INTERACTION_TO_NEXT_PAINT,payload:e})}L.interactionToNextPaint=On;function Ko(e){function r(n){return function(o){var i=o.id,u=o.name,c=o.value,f={id:i,metricName:u,value:c},a=n(f);e.dispatch(a)}}var t=window;gn.isServer||gn.isClient&&t.__is_web_vitals_initialized__||Ho.isMobile()||(t.__is_web_vitals_initialized__=!0,ze.onLCP(r(bn)),ze.onFID(r(_n)),ze.onCLS(r(mn)),ze.onFCP(r(An)),ze.onTTFB(r(Pn)),ze.onINP(r(On)))}L.initializeWebVitals=Ko});var Sn=h(Ne=>{"use strict";var Yo=Ne&&Ne.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Xo=Ne&&Ne.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Yo(r,e,t)};Object.defineProperty(Ne,"__esModule",{value:!0});Xo(En(),Ne)});var tr=h(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.getWindow=ae.getLocation=ae.redirect=ae.shouldRedirect=void 0;function xo(e){return e===window}ae.shouldRedirect=xo;function Zo(e){var r=Tn();r&&r.assign(e)}ae.redirect=Zo;function Tn(){return In()?window.location:void 0}ae.getLocation=Tn;function Qo(){return In()?window:void 0}ae.getWindow=Qo;function In(){return typeof window<"u"}});var Cn=h(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.handleAppPrint=void 0;var Mn=tr();function Jo(){return navigator.userAgent.indexOf("iOS")>=0}function $o(){var e=Mn.getWindow();if(!(!e||!e.document||!e.document.body)){var r=e.document.createElement("input");return r.style.display="none",e.document.body.appendChild(r),r}}function wn(){var e;(e=Mn.getWindow())===null||e===void 0||e.print()}function ea(){var e=$o();e&&(e.select(),wn(),e.remove())}function ta(){Jo()?ea():wn()}Mt.handleAppPrint=ta});var rr=h(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.isV1Config=ue.MessageType=ue.LifecycleHook=ue.PermissionType=void 0;var ra=We();Object.defineProperty(ue,"MessageType",{enumerable:!0,get:function(){return ra.MessageType}});var Nn=We();Object.defineProperty(ue,"PermissionType",{enumerable:!0,get:function(){return Nn.PermissionType}});Object.defineProperty(ue,"LifecycleHook",{enumerable:!0,get:function(){return Nn.LifecycleHook}});function na(e){return!e.host}ue.isV1Config=na});var jn=h(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.removeFromCollection=Ye.addAndRemoveFromCollection=void 0;var Rn=mt();Object.defineProperty(Ye,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return Rn.addAndRemoveFromCollection}});Object.defineProperty(Ye,"removeFromCollection",{enumerable:!0,get:function(){return Rn.removeFromCollection}})});var Dn=h(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});var ia=jn(),oa=function(){function e(){this.map={}}return e.prototype.set=function(r,t){Object.prototype.hasOwnProperty.call(this.map,r)||(this.map[r]=[]);var n={handler:t,remove:function(){}},o=ia.addAndRemoveFromCollection(this.map[r],n);return n={handler:t,remove:o},o},e.prototype.get=function(r){var t=this.map[r];return t?t.map(function(n){return n.handler}):void 0},e.prototype.run=function(r,t,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var u=0,c=this.get(r)||[];function f(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var y=c[u++];return y?y(f).apply(n,a):t.apply(n,a)}return f.apply(n,o)},e}();nr.default=oa});var ir=h(j=>{"use strict";var Xe=j&&j.__assign||function(){return Xe=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Xe.apply(this,arguments)},Fn=j&&j.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e},aa=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});j.createApp=j.createAppWrapper=j.createClientApp=j.WINDOW_UNDEFINED_MESSAGE=void 0;var ft=Fe(),ua=Xr(),k=ot(),Bn=Et(),qn=on(),Ln=at(),sa=sn(),ca=Sn(),fa=Cn(),dt=tr(),ct=rr(),da=aa(Dn());j.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function la(e,r){var t=r.apiKey,n=r.host,o=r.forceRedirect,i=o===void 0?!Ln.isDevelopmentClient:o,u=dt.getLocation();if(Ln.isUnframed||!u||!t||!n||!i||!dt.shouldRedirect(e))return!1;var c="https://"+n+"/apps/"+t+u.pathname+(u.search||"");return dt.redirect(c),!0}var pa=function(e){return function(r){return e(Xe(Xe({},r),{version:ft.getVersion(),clientInterface:{name:ft.getPackageName(),version:ft.getVersion()}}))}},ha=function(e){e.set(ct.LifecycleHook.DispatchAction,pa)};function va(e){e.subscribe(ua.Action.APP,fa.handleAppPrint),e.dispatch(sa.initialize());try{ca.initializeWebVitals(e)}catch(r){console.error("App-Bridge failed to initialize web-vitals",r)}}var ya=function(e,r){r===void 0&&(r=[]);var t=[],n=Bn.createTransportListener(),o=function(i){var u=i.data,c=u.type,f=u.payload;switch(c){case"getState":{var a=t.splice(0);a.forEach(function(P){return P(f)});break}case"dispatch":{n.handleMessage(f);var s=n.handleActionDispatch(f);if(s)return;var y=ft.findMatchInEnum(k.Action,f.type);y&&k.throwError(y,f);break}default:}};return e.subscribe(o),function(i){var u=ga(i),c=la(e.hostFrame,u);if(c)return qn.mockAppBridge;var f=ba(e,u),a=n.createSubscribeHandler(f);f(ct.MessageType.Unsubscribe);function s(T){return f(ct.MessageType.Dispatch,T),T}for(var y=new URL("https://"+u.host).origin,P=new da.default,B={hostOrigin:y,localOrigin:e.localOrigin,hooks:P,dispatch:function(T){return B.hooks?B.hooks.run(ct.LifecycleHook.DispatchAction,s,B,T):s(T)},featuresAvailable:function(){for(var T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];var q=T[0],z=Array.isArray(q)?Fn([],q):T;return B.getState("features").then(function(te){return z.length?z.reduce(function(J,Ie){return Object.keys(te).includes(Ie)&&(J[Ie]=te[Ie]),J},{}):te})},getState:function(T){return T&&typeof T!="string"?Promise.resolve(void 0):new Promise(function(C){t.push(C),f(ct.MessageType.GetState)}).then(function(C){var q=C;if(T)for(var z=0,te=T.split(".");z<te.length;z++){var J=te[z];if(q==null||typeof q!="object"||Array.isArray(q)||!Object.keys(q).includes(J))return;q=q[J]}return q})},subscribe:a,error:function(T,C){var q=[];return ft.forEachInEnum(k.Action,function(z){q.push(a(z,T,C))}),function(){q.forEach(function(z){return z()})}}},Z=0,pe=r;Z<pe.length;Z++){var Q=pe[Z];Q(P,B)}return va(B),B}};j.createClientApp=ya;function ga(e){var r;if(!e.host)throw k.fromAction("host must be provided",k.AppActionType.INVALID_CONFIG);if(!e.apiKey)throw k.fromAction("apiKey must be provided",k.AppActionType.INVALID_CONFIG);try{var t=atob((r=e.host)===null||r===void 0?void 0:r.replace(/_/g,"/").replace(/-/g,"+"));return Xe(Xe({},e),{host:t})}catch{var n="not a valid host, please use the value provided by Shopify";throw k.fromAction(n,k.AppActionType.INVALID_CONFIG)}}function Un(e,r,t){if(t===void 0&&(t=[]),!e)throw k.fromAction(j.WINDOW_UNDEFINED_MESSAGE,k.AppActionType.WINDOW_UNDEFINED);var n=dt.getLocation(),o=r||n&&n.origin;if(!o)throw k.fromAction("local origin cannot be blank",k.AppActionType.MISSING_LOCAL_ORIGIN);var i=Bn.fromWindow(e,o),u=j.createClientApp(i,Fn([ha],t));return u}j.createAppWrapper=Un;function Wn(e){var r=dt.getWindow();return!r||!r.top?qn.serverAppBridge:Un(r.top)(e)}j.createApp=Wn;function ba(e,r){return function(t,n){e.dispatch({payload:n,source:r,type:t})}}j.default=Wn});var or=h(ve=>{"use strict";var _a=ve&&ve.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Gn=ve&&ve.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&_a(r,e,t)};Object.defineProperty(ve,"__esModule",{value:!0});var ma=ir();Gn(rr(),ve);Gn(ir(),ve);ve.default=ma.createClientApp});var kn=h(se=>{"use strict";var Aa=se&&se.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Vn=se&&se.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Aa(r,e,t)};Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Pa=or();Object.defineProperty(se,"default",{enumerable:!0,get:function(){return Pa.createApp}});Vn(Et(),se);Vn(or(),se)});var Hn=h((_s,zn)=>{zn.exports=kn()});var ar=h(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.generateUuid=void 0;function xe(e){return Array.from(e).map(function(r){return("00"+r.toString(16)).slice(-2)}).join("")}function Ze(e){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var r=new Uint8Array(e),t=window.crypto.getRandomValues(r);if(t)return t}return Array.from(new Array(e),function(){return Math.random()*255|0})}function Kn(){var e=64,r=Ze(1),t=Ze(2);return r[0]&=191,t[0]&=15|e,[xe(Ze(4)),"-",xe(Ze(2)),"-",xe(t),"-",xe(r),xe(Ze(1)),"-",xe(Ze(6))].join("")}lt.generateUuid=Kn;lt.default=Kn});var fr=h(W=>{"use strict";var Oa=W&&W.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ct=W&&W.__assign||function(){return Ct=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ct.apply(this,arguments)},Ea=W&&W.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e},Sa=W&&W.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W,"__esModule",{value:!0});W.unsubscribeActions=W.ActionSetWithChildren=W.ActionSet=void 0;var Ta=We(),sr=mt(),wt=nt(),Ia=ne(),Ma=Sa(ar()),ur=ie(),Yn=function(){function e(r,t,n,o){var i=this;this.app=r,this.type=t,this.group=n,this.subgroups=[],this.subscriptions=[],r||wt.throwError(wt.Action.INVALID_ACTION,"Missing required `app`"),this.id=o||Ma.default(),this.defaultGroup=n;var u=this.set;this.set=function(){for(var c,f=[],a=0;a<arguments.length;a++)f[a]=arguments[a];return i.app.hooks?(c=i.app.hooks).run.apply(c,Ea([Ta.LifecycleHook.UpdateAction,u,i],f)):u.apply(i,f)}}return e.prototype.set=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t]},Object.defineProperty(e.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),e.prototype.updateSubscription=function(r,t,n){var o=r.eventType,i=r.callback,u=r.component,c;return c=this.subscriptions.findIndex(function(f){return f===r}),c>=0?this.subscriptions[c].unsubscribe():c=void 0,this.group=t,this.subgroups=n,Object.assign(u,{subgroups:this.subgroups}),this.subscribe(o,i,u,c)},e.prototype.error=function(r){var t=this,n=[];return ur.forEachInEnum(wt.Action,function(o){n.push(t.subscriptions.length),t.subscribe(o,r)}),function(){var o=n.map(function(i){return t.subscriptions[i]});o.forEach(function(i){sr.removeFromCollection(t.subscriptions,i,function(u){u.unsubscribe()})})}},e.prototype.subscribe=function(r,t,n,o){var i=this,u=n||this.component,c=r.toUpperCase(),f=typeof o=="number"?t:t.bind(this),a;wt.isErrorEventName(r)?a=ur.getEventNameSpace(Ia.Group.Error,r,Ct(Ct({},u),{type:""})):a=ur.getEventNameSpace(this.group,r,u);var s=this.app.subscribe(a,f,n?n.id:this.id),y={eventType:c,unsubscribe:s,callback:f,component:u,updateSubscribe:function(P,B){return i.updateSubscription(y,P,B)}};return typeof o=="number"&&o>=0&&o<this.subscriptions.length?this.subscriptions[o]=y:this.subscriptions.push(y),s},e.prototype.unsubscribe=function(r){return r===void 0&&(r=!1),cr(this.subscriptions,this.defaultGroup,r),this},e}();W.ActionSet=Yn;var wa=function(e){Oa(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.children=[],t}return r.prototype.unsubscribe=function(t,n){return t===void 0&&(t=!0),n===void 0&&(n=!1),cr(this.subscriptions,this.defaultGroup,n),this.children.forEach(function(o){o instanceof r?o.unsubscribe(t,!t):o.unsubscribe(!t)}),this},r.prototype.getChild=function(t){var n=this.children.findIndex(function(o){return o.id===t});return n>=0?this.children[n]:void 0},r.prototype.getChildIndex=function(t){return this.children.findIndex(function(n){return n.id===t})},r.prototype.getChildSubscriptions=function(t,n){return this.subscriptions.filter(function(o){return o.component.id===t&&(!n||n===o.eventType)})},r.prototype.addChild=function(t,n,o){var i=this,u=t.subscriptions,c=this.getChild(t.id);return c||this.children.push(t),!u||n===t.group&&o===t.subgroups?this:(u.forEach(function(f){var a=f.updateSubscribe;a(n,o)}),Object.assign(t,{group:n,subgroups:o}),t instanceof r&&t.children.forEach(function(f){return i.addChild(f,n,o)}),this)},r.prototype.removeChild=function(t){var n=this;return sr.removeFromCollection(this.children,this.getChild(t),function(){var o=n.subscriptions.filter(function(i){return i.component.id===t});o.forEach(function(i){sr.removeFromCollection(n.subscriptions,i,function(u){u.unsubscribe()})})}),this},r.prototype.subscribeToChild=function(t,n,o){var i=this,u=o.bind(this);if(n instanceof Array)return n.forEach(function(s){return i.subscribeToChild(t,s,o)}),this;if(typeof n!="string")return this;var c=n.toUpperCase(),f=this.getChildSubscriptions(t.id,c);if(f.length>0)f.forEach(function(s){return s.updateSubscribe(i.group,t.subgroups)});else{var a={id:t.id,subgroups:t.subgroups,type:t.type};this.subscribe(c,u,a)}return this},r.prototype.getUpdatedChildActions=function(t,n){if(t.length===0){for(;n.length>0;){var o=n.pop();if(!o)break;this.removeChild(o.id)}return}for(var i=t.filter(function(f,a,s){return a===s.indexOf(f)}),u=i.map(function(f){return f.id}),c=n.filter(function(f){return u.indexOf(f.id)<0});c.length>0;){var o=c.pop();if(!o)break;this.removeChild(o.id)}return i},r}(Yn);W.ActionSetWithChildren=wa;function cr(e,r,t){t===void 0&&(t=!1),e.forEach(function(n){if(t){var o=n.updateSubscribe;o(r,[])}else{var i=n.unsubscribe;i()}}),t||(e.length=0)}W.unsubscribeActions=cr});var dr=h(w=>{"use strict";var Ca=w&&w.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Je=w&&w.__assign||function(){return Je=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Je.apply(this,arguments)};Object.defineProperty(w,"__esModule",{value:!0});w.Button=w.update=w.clickButton=w.Style=w.Icon=w.Action=void 0;var pt=ie(),Na=fr(),Xn=ne(),Qe;(function(e){e.CLICK="CLICK",e.UPDATE="UPDATE"})(Qe=w.Action||(w.Action={}));var Ra;(function(e){e.Print="print"})(Ra=w.Icon||(w.Icon={}));var ja;(function(e){e.Danger="danger"})(ja=w.Style||(w.Style={}));function xn(e,r,t){var n=r.id,o=pt.getEventNameSpace(e,Qe.CLICK,r),i={id:n,payload:t};return pt.actionWrapper({type:o,group:e,payload:i})}w.clickButton=xn;function Zn(e,r,t){var n=r.id,o=t.label,i=pt.getEventNameSpace(e,Qe.UPDATE,r),u=Je(Je({},t),{id:n,label:o});return pt.actionWrapper({type:i,group:e,payload:u})}w.update=Zn;var Da=function(e){Ca(r,e);function r(t,n){var o=e.call(this,t,Xn.ComponentType.Button,Xn.Group.Button)||this;return o.disabled=!1,o.loading=!1,o.plain=!1,o.set(n,!1),o}return Object.defineProperty(r.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"payload",{get:function(){return Je(Je({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),r.prototype.set=function(t,n){n===void 0&&(n=!0);var o=pt.getMergedProps(this.options,t),i=o.label,u=o.disabled,c=o.icon,f=o.style,a=o.loading,s=o.plain;return this.label=i,this.disabled=Boolean(u),this.icon=c,this.style=f,this.loading=Boolean(a),this.plain=Boolean(s),n&&this.dispatch(Qe.UPDATE),this},r.prototype.dispatch=function(t,n){switch(t){case Qe.CLICK:this.app.dispatch(xn(this.group,this.component,n));break;case Qe.UPDATE:{var o=Zn(this.group,this.component,this.payload);this.app.dispatch(o);break}}return this},r}(Na.ActionSet);w.Button=Da});var Qn=h(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.getSingleButton=void 0;var La=dr();function Fa(e,r,t,n){return e.addChild(r,e.group,t),e.subscribeToChild(r,La.Action.UPDATE,n),r.payload}Nt.getSingleButton=Fa});var gr=h(_=>{"use strict";var pr=_&&_.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Re=_&&_.__assign||function(){return Re=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Re.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0});_.ModalIframe=_.ModalMessage=_.Modal=_.isMessageModal=_.isIframeModal=_.data=_.update=_.clickFooterButton=_.updateModalSize=_.closeModal=_.openModal=_.Size=_.Action=void 0;var Jn=Qn(),ye=ie(),Ba=fr(),X=ne(),qa=dr(),D;(function(e){e.OPEN="APP::MODAL::OPEN",e.CLOSE="APP::MODAL::CLOSE",e.UPDATE="APP::MODAL::UPDATE",e.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",e.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",e.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",e.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",e.DATA="APP::MODAL::DATA"})(D=_.Action||(_.Action={}));var $n;(function(e){e.Small="small",e.Medium="medium",e.Large="large",e.Full="full",e.Auto="auto"})($n=_.Size||(_.Size={}));var lr={group:X.Group.Modal,subgroups:["Footer"],type:X.ComponentType.Button};function hr(e){return ye.actionWrapper({group:X.Group.Modal,payload:e,type:D.OPEN})}_.openModal=hr;function ei(e){return ye.actionWrapper({group:X.Group.Modal,payload:e,type:D.CLOSE})}_.closeModal=ei;function Ua(e){return ye.actionWrapper({group:X.Group.Modal,payload:e,type:D.UPDATE_SIZE})}_.updateModalSize=Ua;function Wa(e,r){var t=Re({id:e},lr);return qa.clickButton(X.Group.Modal,t,r)}_.clickFooterButton=Wa;function vr(e){return ye.actionWrapper({payload:e,group:X.Group.Modal,type:D.UPDATE})}_.update=vr;function ti(e){return ye.actionWrapper({payload:e,group:X.Group.Modal,type:D.DATA})}_.data=ti;function Ga(e){return typeof e.url=="string"||typeof e.path=="string"}_.isIframeModal=Ga;function Va(e){return typeof e.message=="string"}_.isMessageModal=Va;var yr=function(e){pr(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.size=$n.Small,t}return Object.defineProperty(r.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),r.prototype.close=function(){this.app.dispatch(ei({id:this.id}))},r.prototype.setFooterPrimaryButton=function(t,n){var o=this,i=lr.subgroups;this.footerPrimaryOptions=this.getChildButton(t,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?Jn.getSingleButton(this,this.footerPrimaryOptions,i,function(u){o.updatePrimaryFooterButton(u,n)}):void 0},r.prototype.setFooterSecondaryButtons=function(t,n){var o=this,i=lr.subgroups,u=t||[],c=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(u,c),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(f){return Jn.getSingleButton(o,f,i,function(a){o.updateSecondaryFooterButton(a,n)})}):void 0},r.prototype.getChildButton=function(t,n){var o=t?[t]:[],i=n?[n]:[],u=this.getUpdatedChildActions(o,i);return u?u[0]:void 0},r.prototype.updatePrimaryFooterButton=function(t,n){!this.footer||!this.footer.buttons.primary||ye.updateActionFromPayload(this.footer.buttons.primary,t)&&n()},r.prototype.updateSecondaryFooterButton=function(t,n){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var o,i=0,u=this.footer.buttons.secondary;i<u.length;i++){var c=u[i];if(o=ye.updateActionFromPayload(c,t),o)break}o&&n()}},r}(Ba.ActionSetWithChildren);_.Modal=yr;var ka=function(e){pr(r,e);function r(t,n){var o=e.call(this,t,X.Group.Modal,X.Group.Modal)||this;return o.set(n,!1),o}return Object.defineProperty(r.prototype,"payload",{get:function(){return Re(Re({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),r.prototype.set=function(t,n){var o=this;n===void 0&&(n=!0);var i=ye.getMergedProps(this.options,t),u=i.title,c=i.footer,f=i.message,a=i.size;return this.title=u,this.message=f,this.size=a,this.setFooterPrimaryButton(c?c.buttons.primary:void 0,function(){o.dispatch(D.UPDATE)}),this.setFooterSecondaryButtons(c?c.buttons.secondary:void 0,function(){o.dispatch(D.UPDATE)}),n&&this.dispatch(D.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case D.OPEN:this.app.dispatch(hr(this.payload));break;case D.CLOSE:this.close();break;case D.UPDATE:this.app.dispatch(vr(this.payload));break}return this},r}(yr);_.ModalMessage=ka;var za=function(e){pr(r,e);function r(t,n){var o=e.call(this,t,X.Group.Modal,X.Group.Modal)||this;return o.set(n,!1),o}return Object.defineProperty(r.prototype,"payload",{get:function(){return Re(Re({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),r.prototype.set=function(t,n){var o=this;n===void 0&&(n=!0);var i=ye.getMergedProps(this.options,t),u=i.title,c=i.footer,f=i.path,a=i.url,s=i.size,y=i.loading;return this.title=u,this.url=a,this.path=f,this.size=s,this.loading=y,this.setFooterPrimaryButton(c?c.buttons.primary:void 0,function(){o.dispatch(D.UPDATE)}),this.setFooterSecondaryButtons(c?c.buttons.secondary:void 0,function(){o.dispatch(D.UPDATE)}),n&&this.dispatch(D.UPDATE),this},r.prototype.dispatch=function(t,n){switch(t){case D.OPEN:this.app.dispatch(hr(this.payload));break;case D.CLOSE:this.close();break;case D.UPDATE:this.app.dispatch(vr(this.payload));break;case D.DATA:this.app.dispatch(ti(n||{}));break}return this},r}(yr);_.ModalIframe=za});var ri=h(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.create=A.Modal=A.isMessageModal=A.data=A.update=A.clickFooterButton=A.updateModalSize=A.closeModal=A.openModal=A.Size=A.Action=A.isIframeModal=A.ModalMessage=A.ModalIframe=void 0;var $e=gr();Object.defineProperty(A,"ModalIframe",{enumerable:!0,get:function(){return $e.ModalIframe}});Object.defineProperty(A,"ModalMessage",{enumerable:!0,get:function(){return $e.ModalMessage}});Object.defineProperty(A,"isIframeModal",{enumerable:!0,get:function(){return $e.isIframeModal}});var ce=gr();Object.defineProperty(A,"Action",{enumerable:!0,get:function(){return ce.Action}});Object.defineProperty(A,"Size",{enumerable:!0,get:function(){return ce.Size}});Object.defineProperty(A,"openModal",{enumerable:!0,get:function(){return ce.openModal}});Object.defineProperty(A,"closeModal",{enumerable:!0,get:function(){return ce.closeModal}});Object.defineProperty(A,"updateModalSize",{enumerable:!0,get:function(){return ce.updateModalSize}});Object.defineProperty(A,"clickFooterButton",{enumerable:!0,get:function(){return ce.clickFooterButton}});Object.defineProperty(A,"update",{enumerable:!0,get:function(){return ce.update}});Object.defineProperty(A,"data",{enumerable:!0,get:function(){return ce.data}});Object.defineProperty(A,"isMessageModal",{enumerable:!0,get:function(){return ce.isMessageModal}});Object.defineProperty(A,"Modal",{enumerable:!0,get:function(){return ce.Modal}});var Ha=function(e,r){return $e.isIframeModal(r)?new $e.ModalIframe(e,r):new $e.ModalMessage(e,r)};A.create=Ha});var br=h(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.isShopifyPing=x.isShopifyPOS=x.isShopifyMobile=x.isShopifyEmbedded=x.isMobile=void 0;var ni=at();function Ka(){return ii()||oi()||ai()}x.isMobile=Ka;function Ya(){return ni.isClient&&window.top!==window.self||ni.isUnframed}x.isShopifyEmbedded=Ya;function ii(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}x.isShopifyMobile=ii;function oi(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}x.isShopifyPOS=oi;function ai(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}x.isShopifyPing=ai});var si=h(fe=>{"use strict";var Xa=fe&&fe.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(s){try{a(n.next(s))}catch(y){u(y)}}function f(s){try{a(n.throw(s))}catch(y){u(y)}}function a(s){s.done?i(s.value):o(s.value).then(c,f)}a((n=n.apply(e,r||[])).next())})},xa=fe&&fe.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(s){return f([a,s])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,o=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(s){a=[6,s],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(fe,"__esModule",{value:!0});fe.createMutationObserver=fe.setupModalAutoSizing=void 0;var Za=ri(),Qa=Et(),Ja=br(),_r="app-bridge-utils-modal-auto-size",Rt=$a();function $a(){if(typeof document>"u")return null;var e=document.createElement("style");return e.type="text/css",e.innerHTML="."+_r+" { overflow: hidden; height: auto; min-height: auto; }",e}function eu(e,r){if(!Rt)return function(){};var t=document.getElementsByTagName("head")[0],n=document.body.classList;t.appendChild(Rt),n.add(_r);var o=ui(e,r);return function(){n.remove(_r),t.contains(Rt)&&t.removeChild(Rt),o&&o.disconnect()}}function tu(e){return Xa(this,void 0,void 0,function(){function r(){n&&(n(),n=void 0)}function t(o){var i=o.context,u=o.modal.id;return Ja.isMobile()||i!==Qa.Context.Modal?(r(),r):(n||(n=eu(e,u)),r)}var n;return xa(this,function(o){switch(o.label){case 0:return[4,e.getState().then(t)];case 1:return o.sent(),[2,r]}})})}fe.setupModalAutoSizing=tu;function ui(e,r){if(typeof document>"u")return;var t=-1,n,o={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new MutationObserver(u);i.observe(document,o),c();function u(){n&&window.clearTimeout(n),n=window.setTimeout(c,16)}function c(){var f=document.body.scrollHeight;f!==t&&(t=f,e.dispatch(Za.updateModalSize({id:r,height:String(f)})))}return i}fe.createMutationObserver=ui});var di=h(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.respond=ge.request=ge.Action=void 0;var ci=ie(),fi=ne(),mr;(function(e){e.REQUEST="APP::SESSION_TOKEN::REQUEST",e.RESPOND="APP::SESSION_TOKEN::RESPOND"})(mr=ge.Action||(ge.Action={}));function ru(){return ci.actionWrapper({group:fi.Group.SessionToken,type:mr.REQUEST})}ge.request=ru;function nu(e){return ci.actionWrapper({payload:e,group:fi.Group.SessionToken,type:mr.RESPOND})}ge.respond=nu});var li=h(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.respond=Pe.request=Pe.Action=void 0;var Ar=di();Object.defineProperty(Pe,"Action",{enumerable:!0,get:function(){return Ar.Action}});Object.defineProperty(Pe,"request",{enumerable:!0,get:function(){return Ar.request}});Object.defineProperty(Pe,"respond",{enumerable:!0,get:function(){return Ar.respond}})});var Pr=h(V=>{"use strict";var iu=V&&V.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ou=V&&V.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),au=V&&V.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&iu(r,e,t);return ou(r,e),r},uu=V&&V.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(s){try{a(n.next(s))}catch(y){u(y)}}function f(s){try{a(n.throw(s))}catch(y){u(y)}}function a(s){s.done?i(s.value):o(s.value).then(c,f)}a((n=n.apply(e,r||[])).next())})},su=V&&V.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(s){return f([a,s])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,o=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(s){a=[6,s],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(V,"__esModule",{value:!0});V.getSessionToken=void 0;var pi=au(li()),hi=ot();function cu(e){return uu(this,void 0,void 0,function(){return su(this,function(r){return[2,new Promise(function(t,n){var o=e.subscribe(pi.Action.RESPOND,function(i){var u=i.sessionToken;u?t(u):n(hi.fromAction("Failed to retrieve a session token",hi.Action.FAILED_AUTHENTICATION)),o()});e.dispatch(pi.request())})]})})}V.getSessionToken=cu});var vi=h(de=>{"use strict";var jt=de&&de.__assign||function(){return jt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},jt.apply(this,arguments)},fu=de&&de.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(s){try{a(n.next(s))}catch(y){u(y)}}function f(s){try{a(n.throw(s))}catch(y){u(y)}}function a(s){s.done?i(s.value):o(s.value).then(c,f)}a((n=n.apply(e,r||[])).next())})},du=de&&de.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(s){return f([a,s])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,o=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(s){a=[6,s],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(de,"__esModule",{value:!0});de.authenticatedFetch=void 0;var lu=Pr();function pu(e,r){var t=this;return r===void 0&&(r=fetch),function(n,o){return o===void 0&&(o={}),fu(t,void 0,void 0,function(){var i,u,c;return du(this,function(f){switch(f.label){case 0:return[4,lu.getSessionToken(e)];case 1:return i=f.sent(),u=new Headers(o.headers),u.append("Authorization","Bearer "+i),u.append("X-Requested-With","XMLHttpRequest"),c={},u.forEach(function(a,s){c[s]=a}),[2,r(n,jt(jt({},o),{headers:c}))]}})})}}de.authenticatedFetch=pu});var gi=h(Oe=>{"use strict";var hu=Oe&&Oe.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),yi=Oe&&Oe.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&hu(r,e,t)};Object.defineProperty(Oe,"__esModule",{value:!0});yi(Pr(),Oe);yi(vi(),Oe)});var Or=h(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.respond=je.Action=void 0;var vu=ie(),yu=ne(),bi;(function(e){e.REQUEST="APP::AUTH_CODE::REQUEST",e.RESPOND="APP::AUTH_CODE::RESPOND"})(bi=je.Action||(je.Action={}));function gu(e){return vu.actionWrapper({payload:e,group:yu.Group.AuthCode,type:bi.RESPOND})}je.respond=gu});var mi=h(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.request=Ee.Action=Ee.respond=void 0;var _i=Or();Object.defineProperty(Ee,"Action",{enumerable:!0,get:function(){return _i.Action}});var bu=Fe(),_u=it(),mu=Or();Object.defineProperty(Ee,"respond",{enumerable:!0,get:function(){return mu.respond}});function Au(e){return bu.actionWrapper({group:_u.Group.AuthCode,type:_i.Action.REQUEST,payload:{id:e}})}Ee.request=Au});var Pi=h(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.generateUuid=void 0;var Ai=ar();Object.defineProperty(ht,"generateUuid",{enumerable:!0,get:function(){return Ai.generateUuid}});ht.default=Ai.generateUuid});var Er=h(G=>{"use strict";var Pu=G&&G.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ou=G&&G.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Eu=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Pu(r,e,t);return Ou(r,e),r},Su=G&&G.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(s){try{a(n.next(s))}catch(y){u(y)}}function f(s){try{a(n.throw(s))}catch(y){u(y)}}function a(s){s.done?i(s.value):o(s.value).then(c,f)}a((n=n.apply(e,r||[])).next())})},Tu=G&&G.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(s){return f([a,s])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,o=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(s){a=[6,s],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Iu=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G,"__esModule",{value:!0});G.getAuthorizationCodePayload=void 0;var Oi=Eu(mi()),Ei=ot(),Mu=Iu(Pi());function wu(e){return Su(this,void 0,void 0,function(){return Tu(this,function(r){return[2,new Promise(function(t,n){var o=Mu.default(),i=e.subscribe(Oi.Action.RESPOND,function(u){switch(u?.status){case"needsExchange":t(u);break;default:n(Ei.fromAction("Failed to retrieve an authorization code",Ei.Action.FAILED_AUTHENTICATION))}i()},o);e.dispatch(Oi.request(o))})]})})}G.getAuthorizationCodePayload=wu});var Si=h(Se=>{"use strict";var Cu=Se&&Se.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(s){try{a(n.next(s))}catch(y){u(y)}}function f(s){try{a(n.throw(s))}catch(y){u(y)}}function a(s){s.done?i(s.value):o(s.value).then(c,f)}a((n=n.apply(e,r||[])).next())})},Nu=Se&&Se.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(s){return f([a,s])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,o=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(s){a=[6,s],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Se,"__esModule",{value:!0});Se.userAuthorizedFetch=void 0;var Ru=Er(),ju="auth/shopify/callback";function Du(e){var r=e.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return r?r.toLowerCase()==="true":!1}function Lu(e){var r=this,t=e.app,n=e.callbackUri,o=n===void 0?ju:n,i=e.isAuthorizationCodeRequired,u=i===void 0?Du:i,c=e.fetchOperation;return function(f,a){return Cu(r,void 0,void 0,function(){var s,y,P,B,Z,pe,Q,T;return Nu(this,function(C){switch(C.label){case 0:return[4,c(f,a)];case 1:return s=C.sent(),u(s)?[4,Ru.getAuthorizationCodePayload(t)]:[2,s];case 2:return y=C.sent(),P=y.code,B=y.hmac,Z=y.shop,pe=y.timestamp,Q=encodeURI("https://"+window.location.hostname+"/"+o+"?code="+P+"&hmac="+B+"&shop="+Z+"&timestamp="+pe),[4,c(Q,{})];case 3:if(T=C.sent(),!T.ok)throw new Error("Failed to authorize request.");return[2,c(f,a)]}})})}}Se.userAuthorizedFetch=Lu});var Ii=h(Te=>{"use strict";var Fu=Te&&Te.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ti=Te&&Te.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Fu(r,e,t)};Object.defineProperty(Te,"__esModule",{value:!0});Ti(Er(),Te);Ti(Si(),Te)});var Mi=h(le=>{"use strict";var Bu=le&&le.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Dt=le&&le.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Bu(r,e,t)};Object.defineProperty(le,"__esModule",{value:!0});Dt(si(),le);Dt(br(),le);Dt(gi(),le);Dt(Ii(),le)});var wi=h(De=>{"use strict";var qu=De&&De.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Uu=De&&De.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&qu(r,e,t)};Object.defineProperty(De,"__esModule",{value:!0});Uu(Mi(),De)});var Lt=tt(Ui(),1),Ri=tt(Hn(),1);var Ci=tt(wi(),1);function Ni(e){return async(r,t={})=>{let n=await(0,Ci.getSessionToken)(e);return t.headers={...t.headers,Authorization:`Bearer ${n}`,"Content-Type":"application/json"},fetch(r,t)}}var be=tt(Ur(),1);function ji(){let[e,r]=(0,Lt.useState)(null);return(0,Lt.useEffect)(()=>{let t=new URLSearchParams(window.location.search).get("host")||"",n=window.__SHOPIFY_API_KEY__||"",o=(0,Ri.createApp)({apiKey:n,host:t,forceRedirect:!0});Ni(o)("/api/test").then(u=>u.json()).then(u=>{console.log("API response:",u),r(u.shop||null)}).catch(u=>console.error("API error:",u))},[]),(0,be.jsxs)("div",{style:{padding:"2rem"},children:[(0,be.jsx)("h1",{children:"Brand Logo List App"}),(0,be.jsxs)("p",{children:["This app can be operated from the customization screen of the online store. ",(0,be.jsx)("br",{}),"You can add it by selecting ",(0,be.jsx)("strong",{children:"Add Section \u2192 Apps \u2192 Brand Logo List App"}),"."]}),e&&(0,be.jsxs)("p",{style:{marginTop:"1rem",color:"green"},children:["\u2705 Connected to shop: ",(0,be.jsx)("strong",{children:e})]})]})}export{ji as default};
